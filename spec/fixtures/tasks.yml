# == Schema Information
# Schema version: 15
#
# Table name: tasks
#
#  id           :integer(4)      not null, primary key
#  uuid         :string(36)
#  user_id      :integer(4)
#  assigned_to  :integer(4)
#  name         :string(255)     default(""), not null
#  asset_id     :integer(4)
#  asset_type   :string(255)
#  priority     :string(32)
#  category     :string(32)
#  due_at       :datetime
#  completed_at :datetime
#  deleted_at   :datetime
#  created_at   :datetime
#  updated_at   :datetime
#

<%
  require "faker"
  category = %w(call email folowup lunch meeting money presentation trip) << ""

  for i in (1 .. 50) do
    due_at = case rand(12)
      when 1                            # ASAP
        Task::ASAP.strftime('%Y-%m-%d %H:%M:%S')
      when 2..8                         # tomorrow/next week
        Date.today + rand(15).days
      when 9..11                        # overdue
        Date.today - rand(15).days
      else                              # later
        nil
      end
%>
task<%= i %>:
  id           : <%= i %>
  user_id      : <%= rand(5) + 1 %>
  assigned_to  : <%= rand(5) == 0 ? rand(5) + 1 : "" %>
  name         : <%= Faker::Lorem::sentence(rand(2) + 2).sub(".", "") %>
  asset_id     : <%=  %>
  asset_type   : <%=  %>
  priority     :
  category     : <%= category[rand(category.size)] %>
  due_at       : <%= due_at %>
  completed_at : <%= rand(5) == 0 ? Date.today - rand(5).days : "" %>
  deleted_at   :
  created_at   : <%= starts = Date.today - rand(15).days %>
  updated_at   : <%= starts + rand(5).days %>
<% end %>
