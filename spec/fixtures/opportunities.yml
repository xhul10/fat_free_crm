# == Schema Information
# Schema version: 11
#
# Table name: opportunities
#
#  id               :integer(4)      not null, primary key
#  uuid             :string(36)
#  user_id          :integer(4)
#  account_id       :integer(4)      not null
#  campaign_id      :integer(4)
#  name             :string(64)      default(""), not null
#  source           :string(32)
#  stage            :string(32)
#  probability      :integer(4)
#  amount           :decimal(12, 2)
#  expected_revenue :decimal(12, 2)
#  close_on         :date
#  deleted_at       :datetime
#  notes            :text
#  created_at       :datetime
#  updated_at       :datetime
#

<%
  require "faker"

  source = %w(campaign cold_call conference online referral self web word_of_mouth other) << ""
  stage = %w(prospecting qualification analysis presentation proposal negotiation final_review won lost) << ""

  for i in (1 .. rand(10) + 20) do
%>
opportunity_<%= i %>:
  id          : <%= i %>
  user_id     : <%= rand(5) + 1 %>
  account_id  : <%= rand(5) + 1 %>
  campaign_id : <%= (rand(5) + 1) if i > 10 %>
  name        : <%= Faker::Lorem::sentence(rand(2) + 2).sub(".", "") %>
  source      : <%= source[rand(source.size)] %>
  stage       : <%= the_stage = stage[rand(stage.size)] %>
  probability : <%= %w(won lost).include?(the_stage) ? 100 : (rand(8) + 1) * 10 %>
  amount      : <%= (rand(8) + 1) * 100_000 %>
  close_on    : <%= Date.today + (rand(100) + 10).days %>
  notes       :
  deleted_at  :
  created_at  : <%= starts = Date.today - rand(15).days %>
  updated_at  : <%= starts + rand(5).days %>
<% end %>
